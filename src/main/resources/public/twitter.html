<!DOCTYPE html>
<html>
<head>
  <title>Fritz Up?</title>
  <link rel="stylesheet" type="text/css" href="/styles.css">
</head>
<body>
  <header class="header">
    <!-- <div class="container">
      <ul class="navigation">
        <li><a href="#" class="active">Home</a></li>
        <li><a href="#">Sizzling</a></li>
        <li><a href="#">About</a></li>
      </ul>
    </div> -->
  </header>

<div><h1> Fritter <h1> </div>

<div class="userInMaster">
  <div class="userIn">
  <h3> New User? </h3>
  <!-- <form action="/newUser" method="post"> -->
      <input type="text" id="userName" name="UserName" placeholder="Enter Username Here">
      <br>
      <input type="password" id="password" name="Password" placeholder="Enter Password Here">
      <br>
      <input type="email" id="email" name="email" value="Enter email here">
      <br>
      <input type="submit" id="createNew" value="Create New Account"/ >
      <br>
  <!-- </form> -->
  <br>
</div>
<div class="userIn">
<h3> Returning User? </h3>
<div>
<!-- <form action="/returnUser" method="post"> -->
  <input type="text" name="returnUserName" id="returnUserName" placeholder="Enter Username Here">
   <br>
   <input type="password" name="returnUserPassword" id="returnUserPassword" placeholder="Enter Password Here">
    <br>
      <input type="submit" id="returnUser" value="Log In"/ >
</div>
<div id="msg_div">
</div>
<br>
</div>
</div>


{% for a in timeline %}
<div class ="Sizzling">
    <ul>
        <li>{{a.username}}</li>
        <li>{{a.content}}</li>
        <li>{{a.tweetDt}}</li>
    </ul>
</div>
{% endfor %}


<script>
// script for creating new  user
// AJAX posting x-www-form-urlencoded
var returnButton = document.getElementById('createNew');
returnButton.onclick = function () {
    var xhrReturn = new XMLHttpRequest();
    xhrReturn.open('POST', '/newUser');
    xhrReturn.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
    xhrReturn.onload = function() {
        if (xhrReturn.status === 200) {
            var rresult = document.getElementById('msg_div');
            rresult.innerHTML = xhrReturn.responseText;
        } else if (xhrReturn.status !== 200) {
            alert('Request failed.  Returned status of ' + xhrReturn.status);
        }
    };
    var first = document.getElementById('userName').value;
    var second = document.getElementById('password').value;
    var third = document.getElementById('email').value;
    var returnBody = 'userName=' + encodeURIComponent(first) + '&password=' + encodeURIComponent(second) + '&email=' + encodeURIComponent(third);
    console.log(returnBody);
    xhrReturn.send(returnBody);
};
// script for logging in existing users
// AJAX posting x-www-form-urlencoded
var returnButton = document.getElementById('returnUser');
returnButton.onclick = function () {
    var xhrReturn = new XMLHttpRequest();
    xhrReturn.open('POST', '/returnUser');
    xhrReturn.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
    xhrReturn.onload = function() {
        if (xhrReturn.status === 200) {
            var rresult = document.getElementById('msg_div');
            rresult.innerHTML = xhrReturn.responseText;
        } else if (xhrReturn.status !== 200) {
            alert('Request failed.  Returned status of ' + xhrReturn.status);
        }
    };
    var first = document.getElementById('returnUserName').value;
    var second = document.getElementById('returnUserPassword').value;
    var returnBody = 'returnUserName=' + encodeURIComponent(first) + '&returnUserPassword=' + encodeURIComponent(second);
    console.log(returnBody);
    xhrReturn.send(returnBody);
};
</script>
</body>
</html>
